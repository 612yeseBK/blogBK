---
title: genism之tfidf
categories: NLP
tags:
  - gensim
  - tfidf
date: 2018-11-09 16:10:27
---
<Excerpt in index | 首页摘要>摘要：这是一篇介绍如何使用genism去计算一个词在文档语料库的tfidf值的博客<!-- more -->
<The rest of contents | 余下全文>

# 导入

```
from gensim import models, similarities
```

# 定义语料库

```
corpus = [[(0, 1.0), (1, 1.0), (2, 1.0)],
            [(2, 1.0), (3, 1.0), (4, 1.0), (5, 1.0), (6, 1.0), (8, 1.0)],
            [(1, 1.0), (3, 1.0), (4, 1.0), (7, 1.0)],
            [(0, 1.0), (4, 2.0), (7, 1.0)],
            [(3, 1.0), (5, 1.0), (6, 1.0)],
            [(9, 1.0)],
            [(9, 1.0), (10, 1.0)],
            [(9, 1.0), (10, 1.0), (11, 1.0)],
            [(8, 1.0), (10, 1.0), (11, 1.0)]]
```

corpus就是我们的文档库，其中article0=corpus[0]=[(0, 1.0), (1, 1.0), (2, 1.0)]表示的是一篇文档的组成,article0[0]=（0,1.0）表示的是单词编号为0的词在该文章里有出现过1.0次，其余组成也是这样：单词编号为1的词在该文章里出现1.0次，单词编号为2的词在该文章里出现了1.0次。

# 建立tfidf的模型

```
tfidf = models.TfidfModel(corpus)
```

# 建立需要提取的文档

```
new_article = [(0, 1), (4, 1)]
```

显然文档也是由向量组成的。

# 计算新文档的tfidf的值

```
result=tfidf[new_article]
```

result就是这篇文章中所有词的tfidf值

```
print(result)
```

打印结果是：

```
[(0, 0.8075244024440723), (4, 0.5898341626740045)]
```

结果表示的是编号为0的词的tfidf的值为0.8075244024440723，而编号为4的词的tfidf的值为0.5898341626740045

# 综合上述代码

```
from gensim import models, similarities
corpus = [[(0, 1.0), (1, 1.0), (2, 1.0)],
            [(2, 1.0), (3, 1.0), (4, 1.0), (5, 1.0), (6, 1.0), (8, 1.0)],
            [(1, 1.0), (3, 1.0), (4, 1.0), (7, 1.0)],
            [(0, 1.0), (4, 2.0), (7, 1.0)],
            [(3, 1.0), (5, 1.0), (6, 1.0)],
            [(9, 1.0)],
            [(9, 1.0), (10, 1.0)],
            [(9, 1.0), (10, 1.0), (11, 1.0)],
            [(8, 1.0), (10, 1.0), (11, 1.0)]]
print(np.shape(corpus))
tfidf = models.TfidfModel(corpus)
new_article = [(0, 1), (4, 1)]
result = tfidf[new_article]
print(result) 
# [(0, 0.8075244024440723), (4, 0.5898341626740045)]
```